API REVAMP PART 1
-----------------
1. Cookie service to use cookie path from client
   Currently hard coded to /spa
   Think about issues related to trusting clients and an attacker getting the wrong cookie somehow?

2. Implement startLogin properly, to generate state / code_challenge and form full URL + write cookie
   Update tests to use real data

3. Implement endLogin properly, to use the state and codeVerifier in the state cookie
   Update tests to use real data

4. Implement startLogout to calculate the URL and to use the config data to do it in a Cognito way
   Update tests to use real data

5. Get all tests working against lambdas and HTTP endpoints

6. Implement the same logic for Express and use code from webhost in Final SPA
   Add a testHttpLocal.sh
 
7. SPA branch to verify cookie sending and CORS when an Expire button is clicked
   Add CORS middleware to API and write allow-credentials in response
   Add an OPTIONS request to curl tests

8. Add logging middleware and log to the Elastic Search schema
   Detailed error testing of API operations to test each failure point
   Use my standard client error object

9. Read up to see if I should use a nonce for an SPA
   See IETF docs for browser based apps
   Nonce can be checked in id token to protect against replay attacks???

10. Update README

API REVAMP PART 2
----------------
1. Validate id token and check AT hash - cf oidc client library

2. Write a new anti forgery token after every refresh for better OWASP reviews
   Test this from a multi tab browser viewpoint
   Are there any 401 race conditions that the SPA cannot handle?

3. Proper API logging and write to Elastic Search from AWS
   Logging also needs to use abstract request and response objects

SPA REVAMP PART 1
-----------------
1. Branch of oauth.websample.final, with web reverse proxy and oidc client removed
   Check in with very clean code and a new authenticator implementation
   Only strategies are web and mobile
   Start by throwing not implemented errors for operations that OIDC client implemented previously

2. Get OAuth redirects and responses working, including error responses
   Store state between requests in sesson storage

3. Update existing web oauth proxy client to do more Axios work and be explicit, adding these methods
   Call them from the authenticator implementation:
   - Authorization Code Grant
   - Refresh Token Grant

4. Get CORS and sending of credentials working locally with Express
   Add withCredentials to axios calls
   Test cookies on all 4 browsers including Incognito
   Verify that a different port for API causes no problems

5. Deploy to cloud and verify that it works

6. Update README and mention back end for front end
   Then merge to master

SPA REVAMP PART 2
-----------------
1. Use acr_values
